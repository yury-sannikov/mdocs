(function(a){jQuery.fn.extend({vslimScroll:function(i){var c=true,g="slimScrollDiv",d=false,f="right",e="auto",h={wheelStep:20,width:e,height:"250px",size:"7px",color:"#000",position:f,distance:"1px",start:"top",opacity:.4,alwaysVisible:d,railVisible:d,railColor:"#333",railOpacity:"0.2",railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:g,allowPageScroll:d,scroll:0,outOpacity:.2,railWidth:e,railDistance:e,roundedRail:c,outRailOpacity:.4},b=ops=a.extend(h,i);this.each(function(){var q="block",A="absolute",r,u,w,D,t,o,z="<div></div>",M=30,p=d,U=parseInt(b.wheelStep),I=b.width,G=b.height,j=b.size,X=b.color,F=b.position,E=b.distance,y=b.start,H=b.opacity,n=b.alwaysVisible,s=b.railVisible,S=b.railColor,O=b.railOpacity,K=b.allowPageScroll,J=b.scroll,Q=b.outOpacity,T=b.railWidth===e?j:b.railWidth,C=b.railDistance===e?j:b.railDistance,P=b.roundedRail,L=b.outRailOpacity,h=a(this);if(h.parent().hasClass(g)){if(J){i=h.parent().find(".slimScrollBar");k=h.parent().find(".slimScrollRail");l(h.scrollTop()+parseInt(J),d,c)}return}var V=a(z).addClass(b.wrapperClass).css({position:"relative",overflow:"hidden",width:I,height:G});h.css({overflow:"hidden",width:I,height:G});var k=a(z).addClass(b.railClass).css({width:T,height:"100%",position:A,top:0,display:n&&s?q:"none","border-radius":P?j:0,background:S,opacity:O,zIndex:90}),i=a(z).addClass(b.barClass).css({background:X,width:j,position:A,top:0,opacity:H,display:n?q:q,"border-radius":j,BorderRadius:j,MozBorderRadius:j,WebkitBorderRadius:j,zIndex:99}),W=F==f?{right:E}:{left:E},R=F==f?{right:C}:{left:C};k.css(R);i.css(W);h.wrap(V);h.parent().append(i);h.parent().append(k);i.draggable&&i.draggable({axis:"y",containment:"parent",start:function(){w=c},stop:function(){w=d;m()},drag:function(){l(0,a(this).position().top,d)}});k.hover(function(){x()},function(){m()});i.hover(function(){u=c},function(){u=d});h.hover(function(){r=c;x();m()},function(){r=d;m()});var v=function(a){if(!r)return;var a=a||window.event,b=0;if(a.wheelDelta)b=-a.wheelDelta/120;if(a.detail)b=a.detail/3;l(b,c);a.preventDefault&&!p&&a.preventDefault();if(!p)a.returnValue=d};function l(b,d,e){var a=b;if(d){a=parseInt(i.css("top"))+b*U/100*i.outerHeight();var f=h.outerHeight()-i.outerHeight();a=Math.min(Math.max(a,0),f);i.css({top:a+"px"})}o=parseInt(i.css("top"))/(h.outerHeight()-i.outerHeight());a=o*(h[0].scrollHeight-h.outerHeight());if(e){a=b;var c=a/h[0].scrollHeight*h.outerHeight();i.css({top:c+"px"})}h.scrollTop(a);x();m()}var N=function(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",v,d);this.addEventListener("mousewheel",v,d)}else document.attachEvent("onmousewheel",v)};N();function B(){t=Math.max(h.outerHeight()/h[0].scrollHeight*h.outerHeight(),M);i.css({height:t+"px"})}B();function x(){B();clearTimeout(D);p=K&&o==~~o;if(t>=h.outerHeight()){p=c;return}i.stop(c,c).fadeTo(100,H);s&&k.stop(c,c).fadeIn("fast")}function m(){if(!n)D=setTimeout(function(){if(!u&&!w){i.fadeTo(200,Q);s&&k.fadeTo(200,L)}},1e3)}if(y=="bottom"){i.css({top:h.outerHeight()-i.outerHeight()});l(0,c)}else if(typeof y=="object"){l(a(y).position().top,null,c);!n&&i.hide()}});return this}});jQuery.fn.extend({vslimscroll:jQuery.fn.vslimScroll})})(jQuery);